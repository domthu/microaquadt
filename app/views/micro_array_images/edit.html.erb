<table>
  <tr class="taleft" width="70%"><td class="taleft">
    <ul class="navigation round taleft">
      <li><%= link_to "Microarray .GAL", microarraygals_path %></li>
      <li><%= link_to "Microarray .GPR", microarraygprs_path %></li>
      <li><%= link_to "Microarray Images", micro_array_images_path %></li>
      <li><%= link_to "Microarray Analysis files", micro_array_analysis_files_path %></li>
      <li><%= link_to "Microarray Validations", micro_array_validations_path %></li> 
    </ul>
  </td></tr>
</table>

<h2>Editing micro array image</h2>

<%= link_to 'Show', @micro_array_image %> |
<%= link_to 'Back', micro_array_images_path %>

<% form_for(@micro_array_image, :html => {:multipart => true}) do |f| %>
  <%= f.error_messages %>

  <div class="actions">
    <%= f.submit 'Update' %>
  </div>

<fieldset><legend class="leg">GENERAL DATA</legend>

  <div class="field txt">
    <%= f.label :name %><br />
    <%= f.text_field :name %>
  </div>


  <div class="field num">

   <%= f.label "Remove image" %><br />
   <% f.fields_for :image_assets do |asset|%>


         <div class="paperclip">

           <% if asset.object.new_record? %><br />
           <br />
            <%= asset.file_field :photo %><br />
            <% end %>
          </div>
    
        <div class="existingFiles">
	  <% unless asset.object.new_record? || !asset.object.photo? %>
           
	   <%= link_to( image_tag(asset.object.photo.url(:small)), asset.object.photo.url(:original) ) %>           
	   <%= asset.check_box :_destroy %>
	  <% end %>
        </div>

   <% end %>
  </div>

<style>

.actionSubmit {
                border:3px outset;
                background-color:#0174DF;
                color:#ffffff
}


</style>

<table>
       <tr><td>
		   <div class="add_file_button">
		   <input type="button" id="add_files" style=" border:3px outset;background-color:#0174DF;color:#ffffff" value="Update images" />
		   </div>                  
           </td>
           
       </tr>
       
</table>


<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script type="text/javascript">
$("div.paperclip > input").css("display","none");

$("#add_files").click(function() {$("#micro_array_image_image_assets_attributes_3_photo").toggle("slow");

 //Setup for the second click.
   $(this).off('click');
   $(this).on('click', function() {$("#micro_array_image_image_assets_attributes_4_photo").toggle("slow"); 
//Setup for the third click.
   $(this).off('click');
   $(this).on('click', function() {$("#micro_array_image_image_assets_attributes_5_photo").toggle("slow"); 
//Setup for the fourth click.
   $(this).off('click');
   $(this).on('click', function() {alert("Cannot add more files!!"); 

});
});
});
});
</script>











</fieldset>

<fieldset><legend class="leg">ENVIRONMENTAL DATA</legend>

  <div class="datas  bin">
    <%= f.label :image %><br />
    <%= f.text_field :image %>
  </div>
  <div class="datas  num">
    <%= f.label :II_ImageID, "ImageID" %><br />
    <%= f.text_field :II_ImageID %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Channel, "Channel" %><br />
    <%= f.text_field :II_Channel %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Image, "Image" %><br />
    <%= f.text_field :II_Image %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Fluorophore, "Fluorophore" %><br />
    <%= f.text_field :II_Fluorophore %>
  </div>
  <div class="datas  num">
    <%= f.label :barcode, "Barcode" %><br />
    <%= f.text_field :barcode %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Units, "Units" %><br />
    <%= f.text_field :II_Units %>
  </div>
  <div class="datas  num">
    <%= f.label :II_X_Units_Per_Pixel, "X Units Per Pixel" %><br />
    <%= f.text_field :II_X_Units_Per_Pixel %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Y_Units_Per_Pixel, "Y Units Per Pixel" %><br />
    <%= f.text_field :II_Y_Units_Per_Pixel %>
  </div>
  <div class="datas  num">
    <%= f.label :II_X_Offset, "X Offset" %><br />
    <%= f.text_field :II_X_Offset %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Y_Offset, "Y Offset" %><br />
    <%= f.text_field :II_Y_Offset %>
  </div>
  <div class="datas  num">
    <%= f.label :II_Status, "Status" %><br />
    <%= f.text_field :II_Status %>
  </div>

  <div class="field area">
    <%= f.label :note %><br />
    <%= f.text_area :note %>
  </div

</fieldset>

  <div class="actions">
    <%= f.submit 'Update' %>
  </div>

<% end %>

<%= link_to 'Show', @micro_array_image %> |
<%= link_to 'Back', micro_array_images_path %>

