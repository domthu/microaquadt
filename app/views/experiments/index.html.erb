<%= jqgrid_stylesheets %>
<%= jqgrid_javascripts %>

<table>
  <tr class="taleft" width="70%"><td class="taleft">
    <ul class="navigation round taleft">
      <li><%= link_to "Microarray .GAL", microarraygals_path %></li>
      <li><%= link_to "Microarray .GPR", microarraygprs_path %></li>
      <li><%= link_to "Microarray Images", micro_array_images_path %></li>
      <li><%= link_to "Microarray Analysis files", micro_array_analysis_files_path %></li>
      <li><%= link_to "Microarray Validations", micro_array_validations_path %></li>      
    </ul>
  </td></tr>
</table>

<h2>Microarray experiments</h2>
<%= link_to 'New microarray experiment', new_experiment_path %>
<br />
<br />


<script type="text/javascript" >

//jQuery("#ngbgrid").jqGrid('navGrid','hideCol',"ID"); }); 

     function handleSelection(id) {
        <%= remote_function (:url => {:controller=> 'sampling_sites',
                     :action => 'show'},
                     :with => "id= " + String(id))
        %>
     }
//use, :selection_handler => "handleSelection", :direct_selection => true
//use, :grid_complete => "grid_complete" 


</script>

<%= jqgrid("List of Microarray experiments: you can filter (using the lens icon in the bottom of the grid), sort (clicking on the header column), scroll the data in the grid (using the pagination system)", "ngbgrid", experiments_path,
	[
	{ :field => "id", :label => "ID", :width => 60, :resizable => false, :sortable => false, :editable => false, :hidden => true},
        { :field => "act", :label => "", :width => 30 , :resizable => false, :sortable => false, :search => false, :resizable => true },
        { :field => "exp_code", :label => "Microarray exp. code", :search => true, :width => 130, :sortable => true, :resizable => true },
        { :field => "filter_name", :label => "Filter sample", :search => true, :width => 130, :sortable => true, :resizable => true },
	{ :field => "gal_code", :label => "GAL code", :search => true, :sortable => true, :editable => false, :width => 250, :resizable => true },
        { :field => "partner_name", :label => "Partner", :search => true, :sortable => true, :editable => false, :width => 100, :resizable => true },
        { :field => "gpr_code", :label => "GPR code", :search => true, :sortable => true, :editable => false, :width => 250, :resizable => true },
        { :field => "exp_date", :label => "Exp. date", :search => true, :sortable => true, :editable => false, :width => 100, :resizable => true },
        { :field => "mi_image", :label => "Image", :search => false, :sortable => true, :editable => false, :width => 55 },
	{ :field => "edit", :label => "Edit", :search => false, :sortable => false, :width => 25 , :resizable => true},
	{ :field => "checkbox", :label => "Select", :width => 40 , :resizable => true, :formatter => 'checkbox', :edittype => 'checkbox', :align => 'center'  }
         ], 
    {   :add => false, 
        :edit => false, 
        :inline_edit => true, 
        :delete => true, 
        :rows_per_page => "10", 
        :height => 400, 
        :rownumbers => 'false',
        :multiselect => 'true',
        :subgrid=> { 
                :url => oligos_path,
                :rows_per_page => 40,
                :sort_column => 'microarraygal_id',
                :sort_order => 'asc',
                :search => 'false',
                :rownumbers => 'false',
                :columns => [
		            { :field => "id", :label => "ID", :width => 50, :resizable => false, :sortable => false, :editable => false, :hidden => true},
        { :field => "act", :label => "", :width => 30 , :resizable => false, :sortable => false, :search => false },
		{ :field => "oligo", :label => "Oligo Name", :search => false, :width => 180, :sortable => false  },	
	{ :field => "edit_link", :label => "edit", :search => false, :sortable => false, :width => 50 , :resizable => false}
]}
}
) %>

<br />
<br />
<%= link_to 'New microarray experiment', new_experiment_path %>
<br />





